<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <!-- bases -->

  <ThingDef Name="USH_MemoryCellBase" ParentName="DrugBase" Abstract="True">
    <description>.</description>
    <techLevel>Ultra</techLevel>
    <graphicData>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <tradeability>Sellable</tradeability>
    <rotatable>false</rotatable>
    <ingestible>
      <joyKind>Chemical</joyKind>
      <joy>0.10</joy>
      <drugCategory>Medical</drugCategory>
      <foodType>Processed</foodType>
      <baseIngestTicks>80</baseIngestTicks>
      <ingestSound>Ingest_Inject</ingestSound>
      <ingestHoldOffsetStanding>
        <northDefault>
          <offset>(0.18,0,0)</offset>
        </northDefault>
      </ingestHoldOffsetStanding>
      <ingestCommandString>Absorb {0}</ingestCommandString>
      <ingestReportString>Absorbing {0}.</ingestReportString>
      <useEatingSpeedStat>false</useEatingSpeedStat>
      <chairSearchRadius>0</chairSearchRadius>
    </ingestible>
    <statBases>
      <Mass>0.05</Mass>
      <DeteriorationRate>6</DeteriorationRate>
      <Flammability>1.0</Flammability>
    </statBases>
    <comps>
      <li Class="USH_GE.CompProperties_MemoryCell"></li>
      <li Class="CompProperties_Drug">
        <listOrder>105</listOrder>
      </li>
    </comps>
  </ThingDef>

  <HediffDef Name="USH_MemoryHediffBase" Abstract="True">
    <description>The side effects of subconscious image of someone's memory. It can appear in dreams or as a lucid hallucination.</description>
    <hediffClass>Hediff_High</hediffClass>
    <defaultLabelColor>(1,0,0.5)</defaultLabelColor>
    <scenarioCanAdd>true</scenarioCanAdd>
    <maxSeverity>1.0</maxSeverity>
    <isBad>false</isBad>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.5</severityPerDay>
        <showHoursToRecover>true</showHoursToRecover>
      </li>
    </comps>
  </HediffDef>

  <!-- positive -->

  <ThingDef ParentName="USH_MemoryCellBase">
    <defName>USH_MemoryCellPositive</defName>
    <label>memory cell (positive)</label>
    <description>.</description>
    <graphicData>
      <texPath>Things/Item/MemoryCell/MemoryCellPositive</texPath>
    </graphicData>
    <ingestible>
      <outcomeDoers>
        <li Class="USH_GE.IngestionOutcomeDoer_GiveHediffMemoryCell">
          <hediffDef>USH_MemoryPositiveHigh</hediffDef>
          <severity>1</severity>
        </li>
      </outcomeDoers>
    </ingestible>
  </ThingDef>

  <HediffDef ParentName="USH_MemoryHediffBase">
    <defName>USH_MemoryPositiveHigh</defName>
    <label>positive memory recall</label>
    <stages>
      <li>
        <opinionOfOthersFactor>1.1</opinionOfOthersFactor>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>0.05</offset>
          </li>
          <li>
            <capacity>Talking</capacity>
            <offset>0.08</offset>
          </li>
        </capMods>
      </li>
    </stages>
    <comps>
      <li Class="USH_GE.HediffCompProperties_MemoryCell"></li>
    </comps>
  </HediffDef>

  <ThoughtDef>
    <defName>USH_MemoryPositiveCellThought</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <thoughtClass>USH_GE.Thought_ClonedMemoryPositive</thoughtClass>
    <hediff>USH_MemoryPositiveHigh</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <stages>
      <li>
        <label>High on shimmertalk</label>
        <description>I never felt so confident in my life.</description>
        <baseMoodEffect>4</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <!-- negative -->

  <ThingDef ParentName="USH_MemoryCellBase">
    <defName>USH_MemoryCellNegative</defName>
    <label>memory cell (negative)</label>
    <description>.</description>
    <graphicData>
      <texPath>Things/Item/MemoryCell/MemoryCellNegative</texPath>
    </graphicData>
    <ingestible>
      <outcomeDoers>
        <li Class="USH_GE.IngestionOutcomeDoer_GiveHediffMemoryCell">
          <hediffDef>USH_MemoryNegativeHigh</hediffDef>
          <severity>1</severity>
        </li>
      </outcomeDoers>
    </ingestible>
  </ThingDef>

  <HediffDef ParentName="USH_MemoryHediffBase">
    <defName>USH_MemoryNegativeHigh</defName>
    <label>negative memory recall</label>
    <stages>
      <li>
        <opinionOfOthersFactor>0.95</opinionOfOthersFactor>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>0.03</offset>
          </li>
          <li>
            <capacity>Talking</capacity>
            <offset>-0.1</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <ThoughtDef>
    <defName>USH_MemoryNegativeCellThought</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <thoughtClass>USH_GE.Thought_ClonedMemoryNegative</thoughtClass>
    <hediff>USH_MemoryNegativeHigh</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <stages>
      <li>
        <label>High on shimmertalk</label>
        <description>I never felt so confident in my life.</description>
        <baseMoodEffect>4</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

</Defs>